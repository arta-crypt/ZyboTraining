`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 2021/05/23 22:56:05
// Design Name: 
// Module Name: BLINKSPEED_TB
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module BLINKSPEED_TB(
  );
  
//====================================================================================
// Parameter
//====================================================================================
  
  parameter P_NSEC          = 1               ; // 1                           [ns]
  parameter P_125MCLK_HALF  = 4               ; // 125Mクロックの半周期        [ns]
  parameter P_TCO           = P_125MCLK_HALF  ; // 入力の遅延時間(Clock To Out)[ns]
  parameter P_RST_WIDTH     = 2               ; // Reset Time                  [ns]
  
//====================================================================================
// Wire
//====================================================================================
  
  wire [3:0] led  ; // LED
  
//====================================================================================
// Reg
//====================================================================================
  
  reg       clk_125m  ; // 125MHz Clock
  reg       rst       ; // Reset. Active High
  reg [1:0] btn       ; // Button
  
//====================================================================================
// Device Under Test
//====================================================================================
  
  BLINKSPEED U_BLINKSPEED (
    .CLK (clk_125m), // System clock 125MHz
    .RST (rst     ), // 
    .BTN (btn     ), // Hi=ON/Low=OFF
    .LED (led     )  // 
  );
  
//====================================================================================
// Clock
//====================================================================================
  
  // 125MHz Clock
  initial begin
    clk_125m = 1'b0;
    forever
      #(P_125MCLK_HALF) clk_125m  = ~clk_125m;
  end
  
//====================================================================================
// Driver Task
//====================================================================================
  
  task t_reset;
    begin
      rst = 1'b1;
      #(P_RST_WIDTH) rst = 1'b0;
    end
  endtask
  
//====================================================================================
// Peripheral Circuit
//====================================================================================
  
//====================================================================================
//Monitor
//====================================================================================
  
  always @(led) begin
    if (rst) begin
    end else begin
      $timeformat(-3, 2, "ms", 6);
      $display("-- %t : led=%b", $realtime, led);
    end
  end
  
//====================================================================================
// Test Scenario
//====================================================================================
  
  initial begin
    t_reset;
    repeat(15) @(posedge clk_125m);
    btn = 2'b00;
    #(100000000) btn = 2'b10;
    #(100000000) btn = 2'b00;
  end
  
endmodule
